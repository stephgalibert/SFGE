os: linux
dist: focal
language: cpp
compiler: gcc

addons:
  apt:
    update: true

before_install:
  - scripts/deps.sh

script:
  - scripts/build.sh
  - cd build
  - make test
  - make docs

deploy:
  provider: pages
  skip_cleanup: true
  github-token: $GITHUB_TOKEN
  on:
    branch: main
  local_dir: documentation
  repo: stephgalibert/SFGE
